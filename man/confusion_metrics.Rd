% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/multipathaic.R
\name{confusion_metrics}
\alias{confusion_metrics}
\title{Confusion Matrix and Diagnostic Metrics for Selected Logistic Models}
\usage{
confusion_metrics(result_object, model_index = 1, cutoff = 0.5, verbose = TRUE)
}
\arguments{
\item{result_object}{The full output list returned by
[`multipath_aic()`]. Must contain `forest` and `plaus`.}

\item{model_index}{Integer index specifying which plausible model to evaluate.
Default is `1` (the top plausible model).}

\item{cutoff}{Probability threshold for classification. Default: `0.5`.}

\item{verbose}{Logical; if TRUE, prints the confusion matrix and metrics.}
}
\value{
A data frame containing:
\describe{
  \item{Prevalence}{Proportion of true positives.}
  \item{Accuracy}{Correct classification rate.}
  \item{Sensitivity}{True positive rate.}
  \item{Specificity}{True negative rate.}
  \item{FDR}{False discovery rate.}
  \item{DOR}{Diagnostic odds ratio.}
}
}
\description{
Computes a confusion matrix and several standard diagnostic metrics for a
**logistic regression model** selected by the Multi-Path AIC procedure.

This function extracts a model from the set of plausible models produced by
[`multipath_aic()`], refits the logistic regression on the original
data, and evaluates its predictive performance at a user-specified cutoff.
}
\details{
The metrics computed include:

\itemize{
  \item \strong{Prevalence} — proportion of positive outcomes.
  \item \strong{Accuracy} — proportion of correct classifications.
  \item \strong{Sensitivity (Recall)} — \(TP / (TP + FN)\).
  \item \strong{Specificity} — \(TN / (TN + FP)\).
  \item \strong{False Discovery Rate (FDR)} — \(FP / (TP + FP)\).
  \item \strong{Diagnostic Odds Ratio (DOR)} — \((TP/FN) / (FP/TN)\).
}
}
\examples{
## Logistic Model Evaluation Example
set.seed(1)
n <- 150; p <- 6
X <- as.data.frame(matrix(rnorm(n*p), n, p))
names(X) <- paste0("x", 1:p)
eta <- 1.5*X$x1 - 2*X$x2 + 1*X$x5
prob <- 1 / (1 + exp(-eta))
y <- rbinom(n, 1, prob)

result <- multipath_aic(
  X, y,
  family = "binomial",
  K = 6,
  B = 20,
  verbose = FALSE
)

# Evaluate first plausible model
confusion_metrics(result, model_index = 1)

}
